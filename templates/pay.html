<!DOCTYPE html>
<html>
<head>
    <title>Pay ‚Çπ50</title>
</head>
<body>

<h2>Ranjitham Study Center</h2>
<p>Pay ‚Çπ50 to download PDF</p>
<!DOCTYPE html>
<html>
<head>
    <title>Payment</title>
</head>
<body style="font-family:Poppins;text-align:center;padding:50px">

<h2>üîê Payment Required</h2>
<p>File: <b>{{ file }}</b></p>
<p>Price: ‚Çπ49</p>

<!-- TEMP BUTTON (Later Razorpay) -->
<a href="/success?file={{ file }}"
   style="padding:12px 30px;background:#0b5394;color:white;
   text-decoration:none;border-radius:6px;">
   Pay & Download
</a>

</body>
</html>

<form action="/success" method="POST" id="payment-form">
    <input type="hidden" name="pdf" value="{{ pdf }}">
    <input type="hidden" name="razorpay_payment_id" id="razorpay_payment_id">
</form>

<button id="pay-btn">Pay ‚Çπ50</button>

<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<script>
var options = {
    "key": "{{ key }}",
    "amount": "{{ amount }}",
    "currency": "INR",
    "name": "Ranjitham Study Center",
    "description": "PDF Download",
    "order_id": "{{ order_id }}",
    "handler": function (response){
        document.getElementById("razorpay_payment_id").value =
            response.razorpay_payment_id;

        document.getElementById("payment-form").submit();
    },
    "theme": {
        "color": "#3399cc"
    }
};

var rzp1 = new Razorpay(options);

document.getElementById("pay-btn").onclick = function(e){
    rzp1.open();
    e.preventDefault();
}
</script>

</body>
</html>
